# 前端手动测试检查清单

**测试日期：** ___________
**测试人员：** ___________
**测试环境：** http://localhost:5173

## 预备条件

- [ ] 后端服务运行中 (http://localhost:8000)
- [ ] 前端服务运行中 (http://localhost:5173)
- [ ] 使用Chrome/Firefox/Edge浏览器（推荐Chrome）
- [ ] 打开浏览器控制台（F12）检查错误

---

## 1️⃣ 认证流程测试

### 登录页面
- [ ] 访问 http://localhost:5173 自动跳转到登录页
- [ ] 页面显示正常（logo、表单、样式）
- [ ] 邮箱和密码输入框可输入

### 登录功能
- [ ] 测试无效凭据：wrong@email.com / wrongpass
  - [ ] 显示错误提示（Toast或错误消息）
- [ ] 测试有效凭据：admin@wine.com / admin123
  - [ ] 成功登录并跳转到仪表盘
  - [ ] 顶部栏显示用户名/邮箱

### 会话管理
- [ ] 登录后刷新页面（F5）保持登录状态
- [ ] 打开新标签页访问 /dashboard 不需要重新登录
- [ ] 点击登出按钮
  - [ ] 跳转回登录页
  - [ ] 无法直接访问 /dashboard（自动跳转到登录）

---

## 2️⃣ 仪表盘测试

### 访问仪表盘
- [ ] 登录后访问 http://localhost:5173/dashboard
- [ ] 页面加载无错误（检查控制台）

### 统计卡片
- [ ] 总红酒数量卡片显示数字
- [ ] 总库存数量卡片显示数字
- [ ] 总库存价值卡片显示金额（带货币符号）
- [ ] 低库存警告卡片显示数字（如有）

### 图表显示
- [ ] 库存趋势图渲染正常
- [ ] 图表有数据点和坐标轴
- [ ] 图表可交互（鼠标悬停显示数值）
- [ ] 按产区分布图显示
- [ ] 按品种分布图显示

### 低库存警告列表
- [ ] 如果有低库存红酒，显示警告列表
- [ ] 点击"查看详情"可跳转到相应页面

---

## 3️⃣ 红酒管理测试

### 访问红酒列表
- [ ] 点击侧边栏"红酒管理"或访问 /wines
- [ ] 红酒列表以表格或卡片形式显示
- [ ] 显示：名称、年份、产区、品种、价格、库存等

### 搜索功能
- [ ] 在搜索框输入关键词（如"测试"）
- [ ] 列表实时过滤
- [ ] 清空搜索框恢复完整列表

### 筛选功能
- [ ] 按产区筛选（选择一个产区）
- [ ] 列表只显示该产区的红酒
- [ ] 按葡萄品种筛选
- [ ] 按供应商筛选
- [ ] 按存放位置筛选
- [ ] 清除筛选条件恢复完整列表

### 排序功能
- [ ] 点击表头按名称排序（升序/降序）
- [ ] 按价格排序
- [ ] 按库存数量排序
- [ ] 按年份排序

### 添加红酒
- [ ] 点击"添加红酒"按钮
- [ ] 打开添加红酒模态框
- [ ] 填写测试数据：
  - 名称：前端测试红酒 2026
  - 年份：2020
  - 产区：波尔多
  - 葡萄品种：梅洛
  - 价格：666.00
  - 供应商：测试供应商A
  - 存放位置：B区2号
  - 当前库存：50
  - 低库存阈值：10
- [ ] 测试必填字段验证（留空必填字段提交）
- [ ] 提交表单成功
- [ ] Toast显示成功消息
- [ ] 列表中出现新添加的红酒

### 编辑红酒
- [ ] 点击某个红酒的"编辑"按钮
- [ ] 模态框预填充当前数据
- [ ] 修改价格为 999.00
- [ ] 保存成功
- [ ] Toast显示成功消息
- [ ] 列表中价格已更新

### 查看详情
- [ ] 点击红酒名称或"查看详情"
- [ ] 显示完整的红酒信息
- [ ] 显示该红酒的库存交易历史

### 删除红酒
- [ ] 点击某个红酒的"删除"按钮
- [ ] 显示确认对话框
- [ ] 点击"取消"不删除
- [ ] 再次点击删除，点击"确认"
- [ ] Toast显示成功消息
- [ ] 红酒从列表中移除

---

## 4️⃣ 库存管理测试

### 访问库存管理
- [ ] 点击侧边栏"库存管理"或访问 /inventory
- [ ] 显示交易记录列表（入库/出库历史）
- [ ] 显示：时间、红酒名称、类型、数量、原因、操作人等

### 筛选交易记录
- [ ] 按交易类型筛选（仅入库）
- [ ] 按交易类型筛选（仅出库）
- [ ] 按红酒筛选（选择某个红酒）
- [ ] 按时间范围筛选

### 入库操作
- [ ] 点击"入库"按钮
- [ ] 打开入库模态框
- [ ] 选择之前添加的测试红酒
- [ ] 填写数量：30
- [ ] 填写原因：测试入库
- [ ] 提交成功
- [ ] Toast显示成功消息
- [ ] 交易记录列表出现新记录
- [ ] 返回红酒列表，库存数量增加30

### 出库操作
- [ ] 点击"出库"按钮
- [ ] 打开出库模态框
- [ ] 选择之前添加的测试红酒
- [ ] 填写数量：20
- [ ] 填写原因：测试出库
- [ ] 提交成功
- [ ] Toast显示成功消息
- [ ] 交易记录列表出现新记录
- [ ] 返回红酒列表，库存数量减少20

### 出库验证
- [ ] 尝试出库超过库存的数量（如出库999）
- [ ] 显示错误提示："库存不足"或类似消息
- [ ] 出库操作被拒绝

### 查看红酒交易历史
- [ ] 在红酒详情页查看该红酒的所有交易记录
- [ ] 记录按时间倒序排列
- [ ] 显示完整的交易详情

---

## 5️⃣ 低库存警告测试

### 访问警告页面
- [ ] 点击侧边栏"低库存警告"或访问 /alerts
- [ ] 显示所有库存低于阈值的红酒列表

### 警告列表
- [ ] 如果没有低库存红酒，显示提示信息
- [ ] 如果有低库存红酒，显示：
  - [ ] 红酒名称
  - [ ] 当前库存数量
  - [ ] 低库存阈值
  - [ ] 警告级别（如果有）

### 快速操作
- [ ] 从警告列表可以点击"入库"快速补货
- [ ] 可以调整低库存阈值
- [ ] 可以查看红酒详情

---

## 6️⃣ 用户管理测试（管理员功能）

### 访问用户管理
- [ ] 点击侧边栏"用户管理"或访问 /users
- [ ] 仅管理员可见此菜单
- [ ] 显示用户列表

### 用户列表
- [ ] 显示：邮箱、姓名、角色、状态、创建时间
- [ ] 至少显示admin@wine.com用户

### 添加用户
- [ ] 点击"添加用户"按钮
- [ ] 填写测试数据：
  - 邮箱：testuser@wine.com
  - 姓名：测试用户
  - 密码：test123456
  - 角色：用户（非管理员）
- [ ] 提交成功
- [ ] Toast显示成功消息
- [ ] 用户列表中出现新用户

### 编辑用户
- [ ] 点击某个用户的"编辑"按钮
- [ ] 修改姓名
- [ ] 保存成功
- [ ] 用户信息已更新

### 切换用户状态
- [ ] 点击"禁用"按钮禁用用户
- [ ] 状态变为"禁用"
- [ ] 点击"启用"恢复用户
- [ ] 状态变为"启用"

### 删除用户
- [ ] 点击"删除"按钮
- [ ] 显示确认对话框
- [ ] 确认删除
- [ ] 用户从列表中移除

### 权限测试（如果可以创建普通用户）
- [ ] 登出管理员账户
- [ ] 使用普通用户登录（testuser@wine.com / test123456）
- [ ] 侧边栏不显示"用户管理"菜单
- [ ] 直接访问 /users 被拒绝或重定向

---

## 7️⃣ 操作日志测试

### 访问操作日志
- [ ] 点击侧边栏"操作日志"或访问 /logs
- [ ] 显示系统操作日志列表

### 日志列表
- [ ] 显示：时间、用户、操作类型、实体类型、详情
- [ ] 日志按时间倒序排列
- [ ] 包含之前操作的日志（添加红酒、入库、出库等）

### 筛选日志
- [ ] 按操作类型筛选（创建、更新、删除）
- [ ] 按用户筛选
- [ ] 按时间范围筛选

### 查看日志详情
- [ ] 点击某条日志查看完整详情
- [ ] 显示JSON格式的详细信息（如果有）

---

## 8️⃣ 导出/导入测试

### 导出红酒列表
- [ ] 在红酒管理页面点击"导出"按钮
- [ ] 选择CSV格式
- [ ] 文件成功下载
- [ ] 用Excel/文本编辑器打开文件
- [ ] 数据完整（包含所有红酒信息）

### 导出交易记录
- [ ] 在库存管理页面点击"导出"按钮
- [ ] 选择Excel格式
- [ ] 文件成功下载
- [ ] 数据完整（包含所有交易记录）

### 导入红酒数据
- [ ] 准备CSV格式的红酒数据文件
- [ ] 点击"导入"按钮
- [ ] 选择文件上传
- [ ] 导入成功
- [ ] Toast显示成功消息和导入数量
- [ ] 新数据出现在红酒列表中

---

## 9️⃣ UI/UX测试

### 主题切换
- [ ] 点击主题切换按钮（月亮/太阳图标）
- [ ] 页面切换到深色模式
- [ ] 所有文字和背景颜色适配良好
- [ ] 再次点击切换回浅色模式
- [ ] 刷新页面主题设置保留

### 侧边栏
- [ ] 点击汉堡菜单图标折叠侧边栏
- [ ] 主内容区域扩展
- [ ] 再次点击展开侧边栏
- [ ] 所有菜单项可见且可点击

### 导航
- [ ] 点击不同菜单项，URL正确变化
- [ ] 页面内容正确加载
- [ ] 浏览器后退按钮正常工作
- [ ] 浏览器前进按钮正常工作
- [ ] 刷新页面停留在当前路由

### Toast通知
- [ ] 成功操作显示绿色Toast
- [ ] 错误操作显示红色Toast
- [ ] Toast自动消失（3-5秒）
- [ ] Toast可以手动关闭

### 加载状态
- [ ] API请求时显示加载指示器（如果有）
- [ ] 加载完成后正常显示内容

### 表单验证
- [ ] 必填字段留空时显示错误
- [ ] 邮箱格式错误时提示
- [ ] 数字字段输入文字时提示
- [ ] 价格/数量不能为负数

---

## 🔟 响应式布局测试

### 桌面视图 (1920x1080)
- [ ] 打开浏览器开发工具（F12）
- [ ] 切换到1920x1080分辨率
- [ ] 所有内容正常显示
- [ ] 侧边栏完全展开

### 平板视图 (768x1024)
- [ ] 切换到768x1024分辨率
- [ ] 布局自适应
- [ ] 侧边栏可能自动折叠
- [ ] 表格/卡片适应宽度

### 移动视图 (375x667)
- [ ] 切换到375x667分辨率
- [ ] 侧边栏折叠为汉堡菜单
- [ ] 表格转为卡片视图或横向滚动
- [ ] 所有按钮和链接可点击
- [ ] 文字大小适中，可读

---

## 1️⃣1️⃣ 错误处理测试

### 后端停止时
- [ ] 停止后端服务（关闭uvicorn）
- [ ] 在前端执行操作（如加载红酒列表）
- [ ] 显示网络错误或连接失败提示
- [ ] 用户可以理解发生了什么

### 401未授权
- [ ] 手动清除localStorage中的token
  - 打开控制台：`localStorage.removeItem('token')`
- [ ] 刷新页面或访问受保护路由
- [ ] 自动跳转到登录页

### 无数据状态
- [ ] 访问一个空的红酒列表（如果可以清空数据库）
- [ ] 显示友好的"暂无数据"提示
- [ ] 引导用户添加第一条数据

---

## 1️⃣2️⃣ 性能测试

### 页面加载速度
- [ ] 清除浏览器缓存
- [ ] 刷新页面测量加载时间（Network标签）
- [ ] 首页加载 < 3秒（开发模式）
- [ ] 控制台无性能警告

### 大数据列表
- [ ] 如果红酒列表有100+条记录
  - [ ] 列表滚动流畅
  - [ ] 搜索/筛选响应快速
  - [ ] 分页功能正常（如果有）

---

## 1️⃣3️⃣ 浏览器兼容性测试

### Chrome
- [ ] 所有功能正常
- [ ] 无控制台错误

### Firefox
- [ ] 所有功能正常
- [ ] 布局一致

### Edge
- [ ] 所有功能正常
- [ ] 布局一致

---

## ✅ 测试总结

### 发现的问题
1. ___________________________________________________________
2. ___________________________________________________________
3. ___________________________________________________________

### 测试通过率
- 总测试项：_______
- 通过：_______
- 失败：_______
- 通过率：_______%

### 总体评价
- [ ] 优秀 - 无重大问题，可以发布
- [ ] 良好 - 有小问题，但不影响核心功能
- [ ] 需要改进 - 有多个需要修复的问题
- [ ] 不合格 - 有严重bug，不能发布

### 建议
_______________________________________________________________
_______________________________________________________________
_______________________________________________________________

---

**测试完成时间：** ___________
**签名：** ___________
